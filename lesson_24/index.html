<!DOCTYPE html>
<html lang="zxx">

<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <link rel="stylesheet" href="css/style.css">
   <title>Lesson 23</title>
</head>

<body>
   <div class="wrapper">
      <header class="header">
         <div class="header__container">
            <h1 id="title" class="header__title">Урок №23 (Основи JavaScript. Частина №4)</h1>
         </div>
      </header>
      <main class="page">
         <div class="page__container">
            <section class="page__task task">
               <div class="task__container">
                  <h2 class="task__title">Задача №1</h2>
                  <div class="task__question">
                     <p>
                        Дано в html: три елементи з класом item.
                        При кліку на кожен з елментів додати клас active,
                        при повторному кліку прибрати клас.
                     </p>
                  </div>
                  <div class="task__answer">
                     <p>
                        <span>Відповідь: </span>
                     </p>
                     <div class="item">Item-1</div>
                     <div class="item">Item-2</div>
                     <div class="item">Item-2</div>
                     <pre>
                        document.addEventListener("click", documentAction)
                     </pre>
                     <pre>
                        function documentAction(e) {
                           const elementTarget = e.target
                              if (elementTarget.closest(`.item`)) {
                              const itemTarget = elementTarget.closest(`.item`)
                              elementTarget.classList.toggle(`active`)
                           }
                        }
                     </pre>
                  </div>
               </div>
            </section>
            <section class="page__task task">
               <div class="task__container">
                  <h2 class="task__title">Задача №2</h2>
                  <div class="task__question">
                     <p>
                        Дано в css/scss: body прозорий
                        При повному завантаженню сторінки додати клас до body який прибирає прозорість.
                     </p>
                  </div>
                  <div class="task__answer">
                     <p>
                        <span> Відповідь:</span>
                     </p>
                     <pre>
                        window.addEventListener(`load`, () => document.body.classList.add(`loaded`)) 
                     </pre>
                     <button class="task__button" type="button">Перезавантажити</button>
                  </div>
               </div>
            </section>
            <section class="page__task task">
               <div class="task__container">
                  <h2 class="task__title">Задача №3</h2>
                  <div class="task__question">
                     <p>
                        Дано в html: header main footer.
                        При наведенні курсору на header змінювати колір фону у footer.
                        Коли курсор йде з header повертати початковий фон для footer.
                     </p>
                  </div>
                  <div class="task__answer">
                     <p>
                        <span>Відповідь: </span>
                     </p>
                     <pre>
                        const header = document.querySelector(`.header`)
                        const footer = document.querySelector('.footer')
                        if (header && footer){
                        header.addEventListener('mouseover', () => {
                           footer.style.backgroundColor = 'grey'
                        })
                        header.addEventListener('mouseleave', () => {
                           footer.style.backgroundColor = ``
                        })
                        }
                     </pre>
                  </div>
               </div>
            </section>
            <section class="page__task task">
               <div class="task__container">
                  <h2 class="task__title">Задача №4</h2>
                  <div class="task__question">
                     <p>
                        Дано в html: текст, елемент з класом item, текст. Так, що елемент з класом item за межами
                        в'юпотрта.
                        Створити функцію яка будує інтервал який буде змінювати контент в елементі item виводячи цифру
                        яка збільшується на одиницю: 1 2 3 ... і т.д.
                        Затримка між зміною числа, та до якого числа має працювати інтервал має задаватись в дата
                        атрибутах елемента item.
                        Функція має запустатить коли ми доскролюємо до елементу item (його видно), і не запускатись
                        повторно.
                     </p>
                  </div>
                  <div class="task__answer">
                     <p>
                        <span>Відповідь:</span>
                     </p>
                     <pre>
                        const options = {
                           root: null,
                           rootMargin: "0px 0px 0px 0px",
                           threshold: 1,
                        }
                     </pre>
                     <pre>
                        const callback = (entries, observer) => {
                           entries.forEach((entry) => {
                              item.setAttribute("data-number", "7")
                              const number = parseInt(item.dataset.number)
                              item.setAttribute("data-delay", "1000")
                              const delay = parseInt(item.dataset.delay)
                              const currentElement = entry.target
                              if (entry.isIntersecting) {
                                 let i = 0
                                 let timer = setInterval(() => {
                                    currentElement.textContent = `${i}`
                                    i === number ? clearInterval(timer) : null
                                    ++i
                                 }, delay)
                                 observer.unobserve(currentElement)
                              }
                           })
                        }
                     </pre>
                     <pre>
                        const observer = new IntersectionObserver(callback, options);
                        const item = document.querySelector(".item--count");
                        if (item) {
                           observer.observe(item);
                        }                  
                     </pre>
                     <p>
                        Lorem ipsum dolor sit amet consectetur adipisicing elit. Eveniet consectetur delectus, molestiae
                        quis dicta odit laudantium unde velit ipsum fugit, debitis voluptas doloribus officiis pariatur
                        a, reiciendis eaque quasi aperiam!
                     </p>
                     <div class="item item--count">Item</div>
                     <p>
                        Lorem ipsum dolor sit amet consectetur adipisicing elit. Eveniet consectetur delectus, molestiae
                        quis dicta odit laudantium unde velit ipsum fugit, debitis voluptas doloribus officiis pariatur
                        a, reiciendis eaque quasi aperiam!
                     </p>
                  </div>
               </div>
            </section>
         </div>
      </main>
      <footer class="footer">
         <div class="footer__container">
            <h3>*Весна 2024*</h3>
         </div>
      </footer>
      <script src="js/script.js"></script>
      <script src="js/dynamic_adapt.js"></script>
   </div>
</body>

</html>